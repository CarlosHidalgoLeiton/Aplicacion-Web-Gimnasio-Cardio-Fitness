<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Title -->
	<title>Cardio - Fitness</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="DexignZone">
	<meta name="robots" content="">

	<meta property="og:image" content="">
	<meta name="format-detection" content="telephone=no">

	<!-- Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Favicon icon -->
	<link href="../../../static/images/Icono.jpg" rel="shortcut icon" type="image/x-icon">

	<!-- Toastr -->
	<link href="../../../static/vendor/toastr/css/toastr.min.css" rel="stylesheet">

	<!-- Datatable -->
	<link rel="stylesheet" href="../../../static/vendor/datatables/css/jquery.dataTables.min.css">

	<!-- Form step -->
	<link rel="stylesheet" href="../../../static/vendor/jquery-smartwizard/dist/css/smart_wizard.min.css">

	<!-- Select 2 -->
	<!-- <link rel="stylesheet" href="../vendor/chartist/css/chartist.min.css"> -->
	<link rel="stylesheet" href="../../../static/vendor/bootstrap-select/css/bootstrap-select.min.css">
	<link rel="stylesheet" href="../../../static/vendor/select2/css/select2.min.css">

	<!-- Custom Stylesheet -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&display=swap">
	<link rel="stylesheet" href="../../../static/css/style.css">

</head>


<body>
	<!-- Required vendors -->
	<script src="../../../static/vendor/global/global.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<!-- Toastr -->
	<link rel="stylesheet" type="text/css"
		href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

	<script src="../../../static/js/toastrConfig.js"></script>

	<script src="../../../static/js/stateRoutine.js"></script>


	{% block upScripts %}

	{% endblock %}

	<!-- Alerts toastr -->
	{% if error %}
	<script>
		errorMessage("{{ error|escape }}");
	</script>
	{% endif %}
	{% if done %}
	<script>
		successMessage("{{ done|escape }}");
	</script>
	{% endif %}

	<!--*******************
        Preloader start
    ********************-->
	<div id="preloader">
		<div class="sk-three-bounce">
			<div class="sk-child sk-bounce1"></div>
			<div class="sk-child sk-bounce2"></div>
			<div class="sk-child sk-bounce3"></div>
		</div>
	</div>
	<!--*******************
        Preloader end
    ********************-->

	<!--**********************************
        Main wrapper start
    ***********************************-->
	<div id="main-wrapper">

		<!--**********************************
            Nav header start
        ***********************************-->
		<div class="nav-header">
			<a href="index.html" class="brand-logo" aria-label="Cardio-Fitness">
				<img class="logo-abbr" src="../../../static/images/Icono.png" alt="">
			</a>

			<div class="nav-control">
				<div class="hamburger">
					<span class="line"></span><span class="line"></span><span class="line"></span>
				</div>
			</div>
		</div>
		<!--**********************************
            Nav header end
        ***********************************-->

		<!--**********************************
            Header start
        ***********************************-->
		<header class="header">
			<div class="header-content">
				<nav class="navbar navbar-expand">
					<div class="collapse navbar-collapse justify-content-between">
						<div class="header-left">
							<div class="dashboard_bar">
								Gimnasio Cardio Fitness
							</div>
						</div>
						<ul class="navbar-nav header-right">

							<li class="nav-item dropdown notification_dropdown">
								<a class="nav-link bell dz-theme-mode" href="javascript:void(0);"
									aria-label="theme-mode">
									<i id="icon-light" class="fas fa-sun"></i>
									<i id="icon-dark" class="fas fa-moon"></i>
								</a>
							</li>

							<li class="nav-item dropdown notification_dropdown">
								<a class="nav-link bell bell-link" href="javascript:void(0)" aria-label="Chat">
									<i class="fa-regular fa-comment"></i>
								</a>
							</li>
							<li class="nav-item dropdown ">
								<a class="nav-link d-flex" href="javascript:void(0)" role="button"
									data-bs-toggle="dropdown">
									<div class="header-info ">
										<span class="text-black"><strong>Usuario</strong></span>
										<span class="dropdown-toggle me-2"></span>

										<p class="fs-12 mb-0">Cliente</p>
									</div>
								</a>
								<div class="dropdown-menu dropdown-menu-end">
									<a href="{{ url_for('client_app.profile') }}" class="dropdown-item ai-icon">
										<svg id="icon-user1" xmlns="http://www.w3.org/2000/svg"
											width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
											stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
											<circle cx="12" cy="7" r="4"></circle>
										</svg>
										<span class="ms-2">Perfil</span>
									</a>

									<a href="{{url_for('login_app.logout')}}" class="dropdown-item ai-icon">
										<svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger"
											width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
											stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
											<polyline points="16 17 21 12 16 7"></polyline>
											<line x1="21" y1="12" x2="9" y2="12"></line>
										</svg>
										<span class="ms-2">Cerrar Sesion </span>
									</a>
								</div>
							</li>
						</ul>
					</div>
				</nav>
			</div>
		</header>
		<!--**********************************
            Header end ti-comment-alt
        ***********************************-->

		<!--**********************************
			Chat box start
		***********************************-->
		<div class="chatbox">
			<div class="custom-tab-1 ">
				<div class="nav nav-tabs">
					<div class="col">
						<div class="row">
							<div class="d-flex justify-content-end">
								<button type="button" class="btn chatbox-close" >
									<i class="fa-regular fa-circle-xmark fa-lg" style="color:#E9F5FF;"></i>
								</button>
							</div>
						</div>
						<div class="row text-center">
							<span class="text-white p-2">Chat</span>
						</div>
					</div>

				</div>

				<div class="card-body msg_card_body dz-scroll" id="DZ_W_Contacts_Body3">
					<div id="chat-box">
						<!-- Los mensajes del chat aparecerán aquí -->
					</div>
				</div>

				<div class="card-footer mb-0 type_msg" id="options-container">
					<!-- Los botones de opciones aparecerán aquí -->
				</div>
			</div>
		</div>
		<!--**********************************
			Chat box End
		***********************************-->

		<script>
			

			// Función para mostrar los botones de opciones
			function showOptions(options) {
				const optionsContainer = document.getElementById("options-container");
				optionsContainer.innerHTML = "";  // Limpiar opciones previas

				options.forEach(option => {
					const optionButton = document.createElement("button");
					optionButton.classList.add("action-button");
					optionButton.setAttribute("aria-label", option.text);
					optionButton.title = option.text;
					optionButton.innerText = option.text;
					optionButton.onclick = () => handleOptionSelect(option.value);
					optionsContainer.appendChild(optionButton);
				});
			}

			// Función para manejar la selección de una opción
			function handleOptionSelect(option) {
				const chatBox = document.getElementById("chat-box");

				// Mostrar la opción seleccionada en el chat
				chatBox.innerHTML += `
							<div class="message user-message">
								<div class="message-avatar">
									<img src="https://widget.tiledesk.com/v6/assets/images/chat_human_avatar.svg" alt="User Avatar" />
								</div>
								<div class="message-bubble user-bubble">
									<p>${option}</p>
								</div>
							</div>
						`;

				$.ajax({
					url: '/client/get_bot',
					type: 'POST',
					contentType: 'application/json',
					data: JSON.stringify({ msg: option }),  // Enviar la opción seleccionada
					success: function (response) {
						const botResponse = response.response;
						chatBox.innerHTML += `
							<div class="message bot-message">
								<div class="message-avatar">
									<img src="https://widget.tiledesk.com/v6/assets/images/chat_human_avatar.svg" alt="Bot Avatar" />
								</div>
								<div class="message-bubble bot-bubble">
									<p>${botResponse}</p>
								</div>
							</div>
						`;
					},
					error: function () {
						chatBox.innerHTML += `
						<div class="message bot-message">
							<div class="message-avatar">
								<img src="https://widget.tiledesk.com/v6/assets/images/chat_human_avatar.svg" alt="Bot Avatar" />
							</div>
							<div class="message-bubble bot-bubble">
								<p>Lo siento, hubo un error al obtener la respuesta.</p>
							</div>
						</div>
					`;
					}
				});
			}

			// Función para iniciar el chatbot con un saludo
			function startChat() {
				const chatBox = document.getElementById("chat-box");
				chatBox.innerHTML += `
					<div class="message bot-message">
						<div class="message-avatar">
							<img src="https://widget.tiledesk.com/v6/assets/images/chat_human_avatar.svg" alt="Bot Avatar" />
						</div>
						<div class="message-bubble bot-bubble">
							<p>Hola, ¿en qué puedo ayudarte hoy?</p>
						</div>
					</div>
				`;
				// Las opciones iniciales después del saludo
				const initialOptions = [
					{ text: 'Horarios', value: 'horarios' },
					{ text: 'Precios', value: 'precios' },
					{ text: 'Ubicación', value: 'ubicación' },
					{ text: 'Contacto', value: 'contacto' }
				];
				showOptions(initialOptions);

				chatBox.scrollTop = chatBox.scrollHeight;
			}

			window.onload = startChat;
		</script>

		<style>
			/* Estilo general para los mensajes */
			.message {
				display: flex;
				align-items: center;
				margin-bottom: 15px;
			}

			.message-avatar {
				width: 40px;
				height: 40px;
				margin-right: 10px;
			}

			.message-avatar img {
				width: 100%;
				border-radius: 50%;
			}

			.message-bubble {
				max-width: 60%;
				padding: 10px;
				border-radius: 10px;
				position: relative;
				font-size: 1.1em;
			}

			.user-message .message-bubble {
				background-color: #E9F5FF;
				color: #2A6AC1;
				border-top-left-radius: 0;
			}

			.bot-message .message-bubble {
				background-color: #F0F2F7;
				color: #06132B;
				border-top-right-radius: 0;
			}

			.user-bubble::after,
			.bot-bubble::after {
				content: '';
				position: absolute;
				width: 0;
				height: 0;
				border-style: solid;
			}

			.user-bubble::after {
				top: 50%;
				left: -10px;
				border-width: 10px;
				border-color: transparent #E9F5FF transparent transparent;
				transform: translateY(-50%);
			}

			.bot-bubble::after {
				top: 50%;
				right: -10px;
				border-width: 10px;
				border-color: transparent transparent transparent #F0F2F7;
				transform: translateY(-50%);
			}

			/* Estilo de los botones */
			.action-button {
				background-color: rgba(255, 255, 255, 1);
				color: rgba(42, 106, 193, 1);
				border: 1px solid rgba(42, 106, 193, 1);
				padding: 10px 20px;
				margin: 5px;
				border-radius: 5px;
				cursor: pointer;
				font-size: 15px;
				transition: background-color 0.3s, color 0.3s;
			}

			.action-button:hover {
				background-color: rgba(42, 106, 193, 1);
				color: rgba(255, 255, 255, 1);
			}
		</style>

		<!--**********************************
            Sidebar start
        ***********************************-->
		<div class="deznav">
			<div class="deznav-scroll">
				<ul class="metismenu" id="menu">

					<li><a href="/client/" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-home"></i>
							<span class="nav-text">Inicio</span>
						</a>
					</li>

					<li><a href="{{ url_for('client_app.routinesClient') }}" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-notepad"></i>
							<span class="nav-text">Rutinas</span>
						</a>
					</li>


					<li><a href="{{ url_for('client_app.inventory') }}" class="ai-icon" aria-expanded="false">
							<i class="flaticon-381-archive"></i>
							<span class="nav-text">Productos</span>
						</a>
					</li>
					
					<li><a href="{{ url_for( 'client_app.viewMemberships' ) }}" class="ai-icon" aria-expanded="false">
							<i class="fa-regular fa-star"></i>
							<span class="nav-text">Membresias</span>
						</a>
					</li>

					<li><a href="{{ url_for( 'client_app.statisticsClient' ) }}" class="ai-icon" aria-expanded="false">
							<i class="fas fa-chart-bar"></i>
							<span class="nav-text">Mis Estadísticas</span>
						</a>
					</li>

				</ul>

				<div class="copyright">
					<p><strong>Cardio Fitness </strong> © 2024 All Rights Reserved</p>
					<p>Made with <span class="heart"></span> by grupo3</p>
				</div>

			</div>

		</div>
		<!--**********************************
            Sidebar end
        ***********************************-->

		<!--**********************************
            Content body start
        ***********************************-->
		{% block content%}

		{% endblock %}
		<!--**********************************
            Content body end
        ***********************************-->

		<!--**********************************
            Footer start
        ***********************************-->
		<footer class="footer">
			<div class="copyright">
				<p>Copyright © Designed &amp; Developed by <a href="" target="_blank">grupo3</a> 2024</p>
			</div>
		</footer>
		<!--**********************************
            Footer end
        ***********************************-->
	</div>
	<!--**********************************
        Main wrapper end
    ***********************************-->


	<!--**********************************
        Scripts
    ***********************************-->
	{% block scripts %}

	{% endblock %}
	<script src="../../../static/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>
	<!--select plugins-file-->
	<script src="../../../static/vendor/select2/js/select2.full.min.js"></script>
	<!-- Toastr -->
	<!-- <script src="../../../static/vendor/toastr/js/toastr.min.js"></script> -->
	<!-- Pasos -->
	<script src="../../../static/vendor/jquery-steps/js/jquery.steps.min.js"></script>
	<script src="../../../static/vendor/jquery-smartwizard/dist/js/jquery.smartWizard.js"></script>
	<!-- Datatable -->
	<script src="../../../static/vendor/datatables/js/jquery.dataTables.min.js"></script>
	<!-- ck-editor -->
	<!-- <script src="../../../static/vendor/ckeditor/ckeditor.js"></script> -->
	<!-- Apex Chart -->
	<!-- <script src="../../../static/vendor/apexchart/apexchart.js"></script> -->
	<!-- Chart piety plugin files -->
	<script src="../../../static/vendor/peity/jquery.peity.min.js"></script>

	<!-- All init script -->
	<script src="../../../static/js/plugins-init/select2-init.js"></script>
	<script src="../../../static/js/plugins-init/toastr-init.js"></script>
	<script src="../../../static/js/plugins-init/datatables.init.js"></script>

	<!-- CUSTOM SCRIPT -->
	<!-- <script src="../../../static/js/dashboard/dashboard-1.js"></script> -->
	<script src="../../../static/js/custom.min.js"></script>
	<script src="../../../static/js/handleDark.js"></script>
	<script src="../../../static/js/deznav-init.js"></script>

	<script>
		$(document).ready(function () {
			// SmartWizard initialize
			$('#smartwizard').smartWizard();
		});
	</script>

</body>

</html>